{% load static %}<!DOCTYPE html>
<html>
    <HEAD>
        <meta charset="utf-8">
        <title>VisualNet</title>
        <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
        <link rel="stylesheet" href="{% static 'css/style.css' %}">
        <link rel="stylesheet" href="{% static 'css/flexslider.css' %}">
        <script src="{% static 'js/jquery-1.9.1.min.js' %}" type="text/javascript"></script>
        <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
        <script src="{% static 'js/jquery.flexslider.js' %}" type="text/javascript"></script>
    </HEAD>
    <style>
        .loader {
            border: 16px solid #f3f3f3; /* Light grey */
            border-top: 16px solid #3498db; /* Blue */
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            display:none;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @font-face{
            font-family:'above-personal';
            src: url({% static 'fonts/above.ttf'%});
            font-style: normal;
            font-weight: 100;
        }
        div p{
            font-family: above-personal;
            font-weight: 600;
            font-size: 24px;
            
        }
        
        #testbtn{
            background-color: #2ecc71 !important;
            border: 0;
            cursor: pointer;
            text-transform: uppercase;
            
        }
        
        #testbtn:hover{
            background: aquamarine !important;
            }
    
    </style>
    <body>
    <div class="container h-100 ">
        <div class="row h-25 bg-transparent">
         
        </div>
        <div class="row h-50 " style="">
            
            <div class="container rounded shadow-lg" style="z-index: 1;background-color: whitesmoke !important; height:413px !important;
                                                            width:720px !important;display:none" id="zxc">
                <div class="row h-25" id="top_row1">
                    <p class="text-center w-100"> Let's start by uploading your PCAP file!</p>
                </div>
                <div class="row h-25" id="top_row2">
                    <form action= "{% url 'process' %}" method="POST" enctype="multipart/form-data" class="w-100" id="form_submit">
                        {% csrf_token %}   
                        <div class="col-sm-4 mx-auto">
                        <input type="file" name="pcap_file" id="pcap_file" required="True" class="form-control-file text-center w-100">
                        </div>
                        </div>
                <div class="row h-50" id="btm_row1">
                    <div class="col-sm-3 mx-auto">
                    <input type="submit" value="testing" class="w-100" id="testbtn" data-toggle="modal" data-target="#exampleModal">
                    </div>
                    
                    </form>
                </div>
                <div class="loader col-lg-4 mx-auto" id="load"></div>
            </div>
            <div class="container rounded shadow-lg" style="z-index: 1;background-color: whitesmoke !important; height:413px !important;
                                                            width:720px !important;  !important;" id="asd">
                <div class="row h-75 flexslider" id="slider">
                    <ul class="slides">
                        {% for item in sorted %}
                        <li>
                          <img src="{% static '/img/{{item}}' %}" />
                        </li>
                        {% endfor %}
                        <!-- items mirrored twice, total of 12 -->
                    </ul>
                
                <div class="row h-25 flexslider" id="carousel">
                        <ul class="slides">
                           {% for item in sorted %}
                        <li>
                          <img src="{% static '/img/{{item}}' %}" />
                        </li>
                        {% endfor %}
                            <!-- items mirrored twice, total of 12 -->
                        </ul>
                    
                </div>
            </div>
        </div>
        </div>
        
        <div class="row h-25 bg-transparent">
        
        </div>
           
        
    </div>
    
 
        
    </body>

<script type = "text/javascript">
    $(window).load(function() {
          // The slider being synced must be initialized first
          $('#carousel').flexslider({
            animation: "slide",
            controlNav: false,
            animationLoop: false,
            slideshow: false,
            itemWidth: 210,
            itemMargin: 5,
            asNavFor: '#slider'
          });

          $('#slider').flexslider({
            animation: "slide",
            controlNav: false,
            animationLoop: false,
            slideshow: false,
            sync: "#carousel"
          });
        });
    
    $(function() {
    $('#form_submit').submit(function upload(e) {
        e.preventDefault();
        var data = new FormData($('#form_submit').get(0));
        $("#top_row1").hide();
        $("#top_row2").hide();
        $("#btm_row1").hide();
        $("#load").fadeIn();
        $.ajax({
            url: $(this).attr('action'),
            type: $(this).attr('method'),
            data: data,
            cache: false,
            processData: false,
            contentType: false,
            success: function(data) {
                alert("okay");
                $("#load").hide();
                $("#zxc").hide();
                $("#asd").fadeIn();
            }
        });
        return false;
    });
});
</script>

    
</html>