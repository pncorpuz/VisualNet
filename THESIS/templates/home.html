{% load static %}<!DOCTYPE html>
<html>
    <HEAD>
        <meta charset="utf-8">
        <title>VisualNet</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
        <link rel="stylesheet" href="{% static 'css/style.css' %}">
        
    </HEAD>
    <style>
        .rows1{
            display:none;
        }
        
        @font-face{
            font-family:'above-personal';
            src: url({% static 'fonts/above.ttf'%});
            font-style: normal;
            font-weight: 100;
        }
        div p{
            font-family: above-personal;
            font-weight: 600;
            font-size: 24px;
            
        }
        
        #testbtn{
            background-color: #2ecc71 !important;
            border: 0;
            cursor: pointer;
            text-transform: uppercase;
            
        }
        
        #testbtn:hover{
            background: aquamarine !important;
            }
        
        .loader {
            border: 16px solid #f3f3f3; /* Light grey */
            border-top: 16px solid #3498db; /* Blue */
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        } 

    </style>
    <body>
        <script type="text/javascript" src="{% static 'js/jquery-1.9.1.min.js' %}" ></script>
        <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/bootstrap.js' %}"></script>
    <div class="container h-100 ">
        <div class="row h-25 bg-transparent">
         
        </div>
        <div class="row h-50 " style="">
            <div class="container rounded shadow-lg" style="z-index: 1;background-color: whitesmoke !important; height:413px !important;
                                                            width:720px !important;display:none  " id="cont1" >
                <div class="row h-25" id="top_row1">
                    <p class="text-center w-100"> Let's start by uploading your PCAP file!</p>
                </div>
                <div class="row h-25" id="top_row2">
                    <form action= "{% url 'process' %}" method="POST" enctype="multipart/form-data" class="w-100" id="form_submit" style="display:hidden">
                        {% csrf_token %}   
                        <div class="col-sm-4 mx-auto">
                        <input type="file" name="pcap_file" id="pcap_file" required="True" class="form-control-file  w-100">
                        </div>
                        </div>
                <div class="row h-50" id="btm_row1">
                    <div class="col-sm-3 mx-auto">
                    <input type="submit" value="testing" class="w-100" id="testbtn" data-toggle="modal" data-target="#exampleModal">
                    </div>
                    
                    </form>
                
                </div>
                <div class="row h-50 rows1" style="display:none">
                </div>
                
                <div class="row h-50 rows1" style="display:none">
                    <div class="loader col-lg-4 mx-auto text-center" id="load"></div>     
                </div>
                
            </div>
             <div class="container rounded shadow-lg" style="z-index: 1;background-color: whitesmoke !important; height:560px !important;
                                                            width:720px !important ;" id="cont2">
                
                 
            <div data-u="slides" style="cursor:default;position:relative;top:0px;left:0px;width:980px;height:380px;overflow:hidden;">
                
                {% for item in sorted_som %}
                <div>
                    <img data-u="image" src="http:/localhost:8000/static/img/map/{{item}}" />
                    <img data-u="thumb" src="https://via.placeholder.com/190x90" />
                </div>
                {% endfor %}

            </div>
                 
                 
                 
             </div>
        </div>
        <div class="row h-25 bg-transparent">
        
        </div>
           
        
    </div>
    
        
    </body>
    

<script type = "text/javascript">
    
    $(function() {
    $('#form_submit').submit(function upload(e) {
        e.preventDefault();
        var data = new FormData($('#form_submit').get(0));
        $("#top_row1").hide();
        $("#top_row2").hide();
        $("#btm_row1").hide();
        
        $(".rows1").fadeIn();

        $.ajax({
            url: $(this).attr('action'),
            type: $(this).attr('method'),
            data: data,
            cache: false,
            processData: false,
            contentType: false,
            success: function(data) {
                alert("okay");
                $("#cont1").hide();
                $("#cont2").show();
            }
        });
        return false;
    });
});
</script>
    
</html>